# =============================================================================
# MANOE API Gateway Environment Configuration
# =============================================================================
#
# Copy this file to .env and fill in your values before running the application.
#
# IMPORTANT: Never commit your .env file to version control!
# This file contains sensitive credentials that should be kept secret.
#
# For VPS deployment, a backup of the production .env should be stored at:
#   /opt/manoe/backups/.env.backup.<timestamp>
#
# =============================================================================

# =============================================================================
# REQUIRED ENVIRONMENT VARIABLES
# The application will fail to start in production if these are missing
# =============================================================================

# Server port (default: 3000)
PORT=3000

# Environment mode: development | production | test
# In production mode, missing required env vars will cause startup failure
NODE_ENV=development

# Redis connection URL
# Format: redis://[username:password@]host:port[/database]
# For Docker: redis://manoe-redis:6379
# For local: redis://localhost:6379
REDIS_URL=redis://localhost:6379

# Supabase connection
# For VPS with self-hosted Supabase: https://api.iliashalkin.com
# For local development: http://localhost:8000
SUPABASE_URL=http://localhost:8000

# Supabase service role key (NOT the anon key!)
# This key has full access to the database - keep it secret!
# Get this from your Supabase dashboard or self-hosted config
SUPABASE_KEY=your-supabase-service-key

# JWT secret for user authentication
# SECURITY: Use a long, random string in production (min 32 characters)
# Generate with: openssl rand -base64 32
JWT_SECRET=your-jwt-secret-key

# =============================================================================
# OPTIONAL BUT RECOMMENDED ENVIRONMENT VARIABLES
# =============================================================================

# CORS Configuration
# Comma-separated list of allowed origins, or * for all (not recommended in production)
# Example: https://manoe.iliashalkin.com,http://localhost:5173
CORS_ORIGIN=*

# JWT token expiration time
# Format: number + unit (s=seconds, m=minutes, h=hours, d=days)
JWT_EXPIRES_IN=7d

# Logging level: debug | info | warn | error
LOG_LEVEL=info

# =============================================================================
# QDRANT VECTOR DATABASE CONFIGURATION
# Required for semantic memory features (character/worldbuilding search)
# =============================================================================

# Qdrant connection URL
# For Docker: http://qdrant:6333
# For local: http://localhost:6333
# For Qdrant Cloud: https://your-cluster.qdrant.io
QDRANT_URL=http://localhost:6333

# Qdrant API key (required if Qdrant has authentication enabled)
# For self-hosted Qdrant with QDRANT__SERVICE__API_KEY set, this must match
# Leave empty for local development without authentication
QDRANT_API_KEY=

# =============================================================================
# LANGFUSE OBSERVABILITY CONFIGURATION
# Optional: Enable LLM tracing and prompt management
# =============================================================================

# Langfuse server URL
# For self-hosted: http://langfuse-web:3000 (Docker) or https://langfuse.iliashalkin.com
# For cloud: https://cloud.langfuse.com
LANGFUSE_HOST=

# Langfuse API keys (get from Langfuse dashboard -> Settings -> API Keys)
LANGFUSE_PUBLIC_KEY=
LANGFUSE_SECRET_KEY=

# =============================================================================
# LLM PROVIDER API KEYS
# Configure at least one provider to enable AI generation
# =============================================================================

# OpenAI API Key
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=

# Anthropic Claude API Key
# Get from: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=

# Google Gemini API Key
# Get from: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=

# OpenRouter API Key (access multiple models through one API)
# Get from: https://openrouter.ai/keys
OPENROUTER_API_KEY=

# =============================================================================
# PRODUCTION ENVIRONMENT VARIABLES CHECKLIST
# =============================================================================
#
# Before deploying to production, ensure you have set:
#
# [ ] PORT=3000
# [ ] NODE_ENV=production
# [ ] CORS_ORIGIN=https://your-frontend-domain.com
# [ ] REDIS_URL=redis://manoe-redis:6379
# [ ] SUPABASE_URL=https://your-supabase-url
# [ ] SUPABASE_KEY=<service_role_key>
# [ ] QDRANT_URL=http://qdrant:6333
# [ ] QDRANT_API_KEY=<your-qdrant-api-key>
# [ ] JWT_SECRET=<long-random-string>
# [ ] JWT_EXPIRES_IN=7d
# [ ] LOG_LEVEL=info
#
# Optional but recommended:
# [ ] LANGFUSE_HOST=<your-langfuse-url>
# [ ] LANGFUSE_PUBLIC_KEY=<langfuse-public-key>
# [ ] LANGFUSE_SECRET_KEY=<langfuse-secret-key>
# [ ] At least one LLM provider API key
#
# =============================================================================
